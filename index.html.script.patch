</body>
=======
  </footer>

  <script>
    // Replace 'YOUR_SPOTIFY_ACCESS_TOKEN' with a valid Spotify access token for your account.
    // You can generate a token using Spotify's Web API Console or implement OAuth flow.
    const accessToken = 'YOUR_SPOTIFY_ACCESS_TOKEN';

    async function fetchCurrentlyPlaying() {
      const response = await fetch('https://api.spotify.com/v1/me/player/currently-playing', {
        headers: {
          'Authorization': 'Bearer ' + accessToken
        }
      });

      const spotifyContent = document.getElementById('spotify-content');

      if (response.status === 204 || response.status === 202) {
        // No content or no track currently playing
        spotifyContent.innerHTML = '<p>Not playing anything right now.</p>';
        return;
      }

      if (!response.ok) {
        spotifyContent.innerHTML = '<p>Error fetching Spotify data. Please check your access token.</p>';
        return;
      }

      const data = await response.json();

      if (!data || !data.item) {
        spotifyContent.innerHTML = '<p>Not playing anything right now.</p>';
        return;
      }

      const track = data.item;
      const artists = track.artists.map(artist => artist.name).join(', ');
      const trackName = track.name;
      const albumArt = track.album.images[0]?.url || '';

      spotifyContent.innerHTML = `
        <div class="spotify-track">
          <img src="${albumArt}" alt="Album Art" class="spotify-album-art" />
          <div class="spotify-track-info">
            <p class="spotify-track-name">${trackName}</p>
            <p class="spotify-artist-name">${artists}</p>
          </div>
        </div>
      `;
    }

    // Fetch currently playing track on page load and every 30 seconds
    fetchCurrentlyPlaying();
    setInterval(fetchCurrentlyPlaying, 30000);
  </script>
</body>
