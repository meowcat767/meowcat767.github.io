<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Meowcat's Site</title>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <nav class="topnav">
      <ul>
        <li>
          <a href="index.html" class="nav-link">
            <img
              src="icons/vista_search_globe.ico"
              alt="Icon"
              class="nav-icon"
            />
            Home
          </a>
        </li>
        <li>
          <a href="project-directory.html" class="nav-link">
            <img src="icons/vista_book_2.ico" alt="Icon" class="nav-icon" />
            Projects
          </a>
        </li>
        <li>
          <a href="webrings.html" class="nav-link">
            <img
              src="icons/vista_get_started.ico"
              alt="Icon"
              class="nav-icon"
            />
            Webrings
          </a>
        </li>
        <li>
          <a href="gallery.html" class="nav-link">
            <img
              src="icons/vista_photo_gallery.ico"
              alt="Icon"
              class="nav-icon"
            />
            Gallery
          </a>
        </li>
        <li>
          <a href="https://chat.meowcat.site" class="nav-link">
            <img src="icons/wlm1.ico" alt="Icon" class="nav-icon" />
            Itzumi IM
          </a>
        </li>
        <li>
          <a href="https://forums.meowcat.site" class="nav-link">
            <img src="icons/vista_netcenter.ico" alt="Icon" class="nav-icon" />
            Forums
          </a>
        </li>
        <li>
          <a
            href="https://p.datadoghq.eu/sb/9834dd73-93c7-11f0-867b-aeba00f0f260-b0d658a0549e5f498c9a0e001458ab2c"
            class="nav-link"
          >
            <img
              src="icons/vista_perf_center.ico"
              alt="Icon"
              class="nav-icon"
            />
            Status
          </a>
        </li>
      </ul>
    </nav>

    <!-- Maintenance Header -->
    <header
      id="maintenance-header"
      style="
        display: none;
        background-color: #ff4c4c;
        color: white;
        padding: 10px;
        text-align: center;
        font-weight: bold;
      "
    >
      Site is currently under maintenance or experiencing downtime. Please check
      <a
        href="https://status.meowcat.site"
        style="color: white; text-decoration: underline"
        >status.meowcat.site</a
      >
      for updates.
    </header>
    <div class="main-window">
      <h1 class="text-center">Status Center</h1>
      <p class="text-center">
        Please select a status page you would like to visit.
      </p>
      <a href="https://status.meowcat.site/" class="nav-link">
        <img src="icons/vista_get_started.ico" alt="Icon" class="nav-icon" />
        Site Uptime Status
      </a>
      <a
        href="https://meowcat767.grafana.net/public-dashboards/2d465a69e42747618b699412451ff6e5"
        class="nav-link"
      >
        <img src="icons/vista_get_started.ico" alt="Icon" class="nav-icon" />
        Server Status
      </a>
      <footer>
        <hr />
        <p>
          Images obtained from the
          <a href="https://frutigeraeroarchive.org/">Frutiger Aero Archive.</a>
          This is Version 3.
        </p>
        <marquee>
          <img
            src="https://frutigeraeroarchive.org/images/buttons/frutigeraeroarchive_button.png"
          />
        </marquee>
      </footer>
    </div>
    <script>
      // Fetch status from API and show maintenance header if needed
      async function checkMaintenanceStatus() {
        try {
          const response = await fetch(
            "https://status.meowcat.site/api/status"
          );
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          const data = await response.json();
          // Assuming API returns { status: "ok" } or { status: "maintenance" } or similar
          if (
            data.status &&
            (data.status.toLowerCase() === "maintenance" ||
              data.status.toLowerCase() === "downtime")
          ) {
            document.getElementById("maintenance-header").style.display =
              "block";
          } else {
            document.getElementById("maintenance-header").style.display =
              "none";
          }
        } catch (error) {
          console.error("Failed to fetch maintenance status:", error);
          // Optionally show header if API fails
          // document.getElementById('maintenance-header').style.display = 'block';
        }
      }
      checkMaintenanceStatus();
    </script>
    <script>
      var redirectValue = 0;

      if (redirectValue === 1) {
        // Redirect to maintain.html
        window.location.href = "maintain.html";
      }
    </script>
  </body>
</html>
